{"helptext": ["dMVM command script is constructed, it can be run by copying and", " pasting to the terminal. Alternatively (and probably better) you save the ", " script as a text file, for example, called MVM.txt, and execute it with the ", " following  (assuming on tc shell),", " ", " tcsh -x MVM.txt &", " ", " or,", " ", " tcsh -x MVM.txt > diary.txt &", " tcsh -x MVM.txt |& tee diary.txt &", "", " The advantage of the latter command is that the progression is saved into", " the text file diary.txt and, if anything goes awry, can be examined later.", " ", " Thanks to the R community, Henrik Singmann, and Helios de Rosario for the ", " strong technical support.", "", "--------------------------------", "Examples: ~1~", "", "Example 1 --- 3 between-subjects and 2 within-subject variables: ~2~", "   Three between-subjects (genotype, sex, and scanner) and two within-subject ", "   (condition and emotion) variables.", "", "   3dMVM  -prefix Example1 -jobs 4            \\", "          -bsVars  'genotype*sex+scanner'      \\", "          -wsVars \"condition*emotion\"         \\", "          -SS_type 2                          \\", "          -num_glt 14                         \\", "          -gltLabel 1 face_pos_vs_neg -gltCode  1 'condition : 1*face emotion : 1*pos -1*neg'            \\", "          -gltLabel 2 face_emot_vs_neu -gltCode 2 'condition : 1*face emotion : 1*pos +1*neg -2*neu'     \\", "          -gltLabel 3 sex_by_condition_interaction -gltCode 3 'sex : 1*male -1*female condition : 1*face -1*house' \\", "          -gltLabel 4 3way_interaction -gltCode 4 'sex : 1*male -1*female condition : 1*face -1*house emotion : 1*pos -1*neg' \\", "          ...            ", "          -num_glf 3                         \\", "          -glfLabel 1 male_condXEmo -glfCode 1 'sex : 1*male condition : 1*face -1*house emotion : 1*pos -1*neg & 1*pos -1*neu' \\", "          -glfLabel 2 face_sexXEmo -glfCode 2 'sex : 1*male -1*female condition : 1*face emotion : 1*pos -1*neg & 1*pos -1*neu' \\", "          -glfLabel 3 face_sex2Emo -glfCode 3 'sex : 1*male & 1*female condition : 1*face emotion : 1*pos -1*neg & 1*pos -1*neu' \\", "          -dataTable                                                                                     \\", "          Subj  genotype   sex    scanner  condition   emotion   InputFile                               \\", "          s1    TT         male   scan1   face        pos       s1+tlrc'[face_pos_beta]'                 \\", "          s1    TT         male   scan1   face        neg       s1+tlrc'[face_neg_beta]'                 \\", "          s1    TT         male   scan1   face        neu       s1+tlrc'[face_neu_beta]'                 \\", "          s1    TT         male   scan1   house       pos       s1+tlrc'[house_pos_beta]'                \\", "          ...", "          s68   TN         female scan2   house       pos       s68+tlrc'[face_pos_beta]'                \\", "          s68   TN         female scan2   house       neg       s68+tlrc'[face_neg_beta]'                \\", "          s68   TN         female scan2   house       neu       s68+tlrc'[house_pos_beta]'                    ", "", "   NOTE: ~3~", "          1) The 3rd GLT is for the 2-way 2 x 2 interaction between sex and condition, which", "          is essentially a t-test (or one degree of freedom for the numerator of F-statistic).", "          Multiple degrees of freedom for the numerator of F-statistic can be obtained through", "          option -glfCode (see GLFs #1, #2, and #3).", "          2) Similarly, the 4th GLT is a 3-way 2 x 2 x 2 interaction, which is a partial (not full)", "          interaction between the three factors because 'emotion' has three levels. The F-test for", "          the full 2 x 2 x 3 interaction is automatically spilled out by 3dMVM.", "          3) The two GLFs showcase the user how to specify sub-interactions.", "          5) Option '-SS_type 2' specifies the hierarchial type for the sume of squares in the", "          omnibus F-statistics in the output. See more details in the help.", "", "--------------------------------", "Example 2 --- 2 between-subjects, 1 within-subject, 2 quantitative variables: ~2~", "", "   Two between-subjects (genotype and sex), one within-subject", "   (emotion) factor, plus two quantitative variables (age and IQ).", "", "   3dMVM -prefix Example2 -jobs 24        \\", "          -bsVars  \"genotype*sex+age+IQ\"  \\", "          -wsVars emotion                \\", "          -qVars  \"age,IQ\"               \\", "          -qVarCenters '25,105'          \\", "          -num_glt 10                    \\", "          -gltLabel 1 pos_F_vs_M   -gltCode 1 'sex : 1*female -1*male emotion : 1*pos'          \\", "          -gltLabel 2 age_pos_vs_neg -gltCode 2 'emotion : 1*pos -1*neg age :'                  \\", "          -gltLabel 3 age_pos_vs_neg -gltCode 3 'emotion : 1*pos -1*neg age : 5'                \\", "          -gltLabel 4 genotype_by_sex -gltCode 4 'genotype : 1*TT -1*NN sex : 1*male -1*female' \\", "          -gltLabel 5 genotype_by_sex_emotion -gltCode 5 'genotype : 1*TT -1*NN sex : 1*male -1*female emotion : 1*pos -1*neg' \\", "          ...            ", "          -dataTable                                                                   \\", "          Subj  genotype  sex    age  IQ     emotion   InputFile                       \\", "          s1    TT         male   24   107    pos       s1+tlrc'[pos_beta]'            \\", "          s1    TT         male   24   107    neg       s1+tlrc'[neg_beta]'            \\", "          s1    TT         male   24   107    neu       s1+tlrc'[neu_beta]'            \\", "          ... ", "          s63   NN         female 29   110    pos       s63+tlrc'[pos_beta]'           \\", "          s63   NN         female 29   110    neg       s63+tlrc'[neg_beta]'           \\", "          s63   NN         female 29   110    neu       s63+tlrc'[neu_beta]'         ", "", "   NOTE: ~3~", "          1) The 2nd GLT shows the age effect (slope) while the 3rd GLT reveals the contrast", "          between the emotions at the age of 30 (5 above the center). On the other hand,", "          all the other GLTs (1st, 4th, and 5th) should be interpreted at the center Age", "          value, 25 year old.", "          2) The 4rd GLT is for the 2-way 2 x 2 interaction between genotype and sex, which", "          is essentially a t-test (or one degree of freedom for the numerator of F-statistic).", "          Multiple degrees of freedom for the numerator of F-statistic is currently unavailable.", "          3) Similarly, the 5th GLT is a 3-way 2 x 2 x 2 interaction, which is a partial (not full)", "          interaction between the three factors because 'emotion' has three levels. The F-test for", "          the full 2 x 2 x 3 interaction is automatically spilled out by 3dMVM.", "", "---------------------------------", "Example 3 --- Getting more complicated: ~2~", "", "   BOLD response was modeled with multiple basis functions at individual", "   subject level. In addition, there are one between-subjects (Group) and one within-", "   subject (Condition) variable. Furthermore, the variable corresponding to the number ", "   of basis functions, Time, is also a within-subject variable. In the end, the F-", "   statistics for the interactions of Group:Condition:Time, Group:Time, and ", "   Condition:Time are of specific interest. And these interactions can be further", "   explored with GLTs in 3dMVM.", "", "   3dMVM -prefix Example3 -jobs 12   \\", "         -bsVars Group               \\", "         -wsVars 'Condition*Time'   \\", "         -num_glt 32                \\", "         -gltLabel 1 old_t0 -gltCode 1 'Group : 1*old Time : 1*t0' \\", "         -gltLabel 2 old_t1 -gltCode 2 'Group : 1*old Time : 1*t1' \\", "         -gltLabel 3 old_t2 -gltCode 3 'Group : 1*old Time : 1*t2' \\", "         -gltLabel 4 old_t3 -gltCode 4 'Group : 1*old Time : 1*t3' \\", "         -gltLabel 5 yng_t0 -gltCode 5 'Group : 1*yng Time : 1*t0' \\", "         -gltLabel 6 yng_t1 -gltCode 6 'Group : 1*yng Time : 1*t1' \\", "         -gltLabel 7 yng_t2 -gltCode 7 'Group : 1*yng Time : 1*t2' \\", "         -gltLabel 8 yng_t3 -gltCode 8 'Group : 1*yng Time : 1*t3' \\", "         ...", "         -gltLabel 17 old_face_t0 -gltCode 17 'Group : 1*old Condition : 1*face Time : 1*t0' \\", "         -gltLabel 18 old_face_t1 -gltCode 18 'Group : 1*old Condition : 1*face Time : 1*t1' \\", "         -gltLabel 19 old_face_t2 -gltCode 19 'Group : 1*old Condition : 1*face Time : 1*t2' \\", "         -gltLabel 20 old_face_t3 -gltCode 20 'Group : 1*old Condition : 1*face Time : 1*t3' \\", "         ...         ", "         -dataTable                                            \\", "         Subj  Group  Condition Time InputFile                 \\", "         s1    old    face      t0   s1+tlrc'[face#0_beta]'    \\", "         s1    old    face      t1   s1+tlrc'[face#1_beta]'    \\", "         s1    old    face      t2   s1+tlrc'[face#2_beta]'    \\", "         s1    old    face      t3   s1+tlrc'[face#3_beta]'    \\", "         ...", "         s40   yng    house     t0   s40+tlrc'[house#0_beta]'  \\", "         s40   yng    house     t1   s40+tlrc'[house#1_beta]'  \\", "         s40   yng    house     t2   s40+tlrc'[house#2_beta]'  \\", "         s40   yng    house     t3   s40+tlrc'[house#3_beta]'      ", "", "   NOTE: ~3~", "          The model for the analysis can also be set up as and is equivalent to ", "          'Group*Condition*Time'.", "   ", "   Options: ~1~", "   ", "", "Options in alphabetical order:", "------------------------------", "", "   -GES: As an analog of the determination coefficient R^2 in multiple", "         regression, generalized eta-squared (GES) provides a measure", "         of effect size for each F-stat in ANOVA or general GLM, and", "         renders a similar interpretation: proportion of variance in", "         the response variable by the explanatory variable on hand.", "         It ranges within [0, 1]. Notice that this option is only", "         available with R version 3.2 and afex version 0.14 or later.", "", "   -Rio: Use R's io functions. The alternative is -cio.", "", "   -SC: If a within-subject factor with more than *two* levels is", "         involved in the model, 3dMVM automatically provides the", "         F-statistics for main and interaction effects with", "         sphericity assumption. If the assumption is violated,", "         the F-statistics could be inflated to some extent. This option,", "         will enable 3dMVM to additionally output the F-statistics of", "         sphericity correction for main and interaction effects, which", "         are labeled with -SC- in the sub-brick names.", "         NOTE: this option should be used only when at least one", "         within-subject factor has more than TWO levesl.", "", "   -SS_type 2/3: Specify the type for the sums of squares for the omnibus", "         F-statistics. Type 2 is hierarchical or partially sequential", "         while type 3 is marginal. Type 2 is more powerful if all the", "         relevant higher-oder interactions do not exist. The default", "         is 3. The controversy surrounding the different types can be", "         found at https://afni.nimh.nih.gov/sscc/gangc/SS.html", "", "   -bsVars FORMULA: Specify the fixed effects for between-subjects factors ", "         and quantitative variables. When no between-subject factors", "         are present, simply put 1 for FORMULA. The expression FORMULA", "         with more than one variable has to be surrounded within (single or", "         double) quotes. No spaces are allowed in the FORMULA expression.", "         Variable names in the formula should be consistent with the ones", "         used in the header underneath -dataTable. A+B represents the", "         additive effects of A and B, A:B is the interaction between A", "         and B, and A*B = A+B+A:B. The effects of within-subject", "         factors, if present under -wsVars are automatically assumed", "         to interact with the ones specified here. Subject as a variable", "         should not occur in the model specification here.", "", "   -cio: Use AFNI's C io functions, which is default. Alternatively -Rio", "         can be used.", "", "   -dataTable TABLE: List the data structure with a header as the first line.", "", "         NOTE:", "", "         1) This option has to occur last; that is, no other options are", "         allowed thereafter. Each line should end with a backslash except for", "         the last line.", "", "         2) The first column is fixed and reserved with label 'Subj', and the", "         last is reserved for 'InputFile'. Each row should contain only one", "         effect estimate in the table of long format (cf. wide format) as", "         defined in R. The level labels of a factor should contain at least", "         one character. Input files can be in AFNI, NIfTI or surface format.", "         AFNI files can be specified with sub-brick selector (square brackets", "         [] within quotes) specified with a number or label. Unequal number of", "         subjects across groups is allowed, but situations with missing data", "         for a within-subject factor are better handled with 3dLME.", "", "         3) It is fine to have variables (or columns) in the table that are", "         not modeled in the analysis.", "", "         4) The context of the table can be saved as a separate file, e.g.,", "         called table.txt. Do not forget to include a backslash at the end of", "         each row. In the script specify the data with '-dataTable @table.txt'.", "         This option is useful: (a) when there are many input files so that", "         the program complains with an 'Arg list too long' error; (b) when", "         you want to try different models with the same dataset (see 3) above).", "", "   -dbgArgs: This option will enable R to save the parameters in a", "         file called .3dMVM.dbg.AFNI.args in the current directory", "          so that debugging can be performed.", "", "   -glfCode k CODING: Specify the k-th general linear F-test (GLF) through a", "         weighted combination among factor levels. The symbolic coding has", "         to be within (single or double) quotes. For example, the coding", "         'Condition : 1*A -1*B & 1*A -1*C Emotion : 1:pos' tests the main", "         effect of Condition at the positive Emotion. Similarly the coding", "         'Condition : 1*A -1*B & 1*A -1*C Emotion : 1*pos -1*neg' shows", "         the interaction between the three levels of Condition and the two.", "         levels of Emotion.", "", "         NOTE:", "", "         1) The weights for a variable do not have to add up to 0.", "", "         2) When a quantitative variable is present, other effects are", "         tested at the center value of the covariate unless the covariate", "         value is specified as, for example, 'Group : 1*Old Age : 2', where", "         the Old Group is tested at the Age of 2 above the center.", "", "         3)  The absence of a categorical variable in a coding means the", "      "], "params": [{"param_range": [1000, 1008], "help_range": [990, 9128]}, {"param_range": [9133, 9137], "help_range": [9139, 9612]}, {"param_range": [9617, 9621], "help_range": [9623, 9669]}, {"param_range": [9674, 9677], "help_range": [9679, 10315]}, {"param_range": [10320, 10328], "help_range": [10317, 10732]}, {"param_range": [10737, 10744], "help_range": [10754, 11580]}, {"param_range": [11585, 11589], "help_range": [11591, 11676]}, {"param_range": [11681, 11691], "help_range": [11699, 13212]}, {"param_range": [13217, 13225], "help_range": [13227, 13393]}], "previous": "3dMVM_part1.json", "next": "3dMVM_part3.json"}